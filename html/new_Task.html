<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>云API</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <!-- <link rel="stylesheet" type="text/css" href="../css/aui.2.0.css"/> -->
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style>
        .empty {
            text-align: center;
            padding: 120px 0;
        }

        div,
        select,
        input {
            font-size: 16px;
        }

        .fill {
            width: 100%;
        }

        div,
        div select,
        div input {
            font-size: 0.8rem;
        }
    </style>
    <script type="text/javascript" src="../script/api.js"></script>
    <script type="text/javascript" src="../script/jquery-1.4.2.min.js"></script>
    <script type="text/javascript">
        // var project_info1 = api.page.info;

            //如果是测试任务就显示...  如果是排查任务就显示...
            function change() {

                var options = $("#select option:selected");
                var changeDivs = document.getElementsByClassName("hhide", "");
                if (options.val() == 'test') {


                    for (var i = 0; i < changeDivs.length; i++) {

                        changeDivs[i].style.visibility = "hidden";
                    };
                    // changeDivs.style.display="none";
                } else {

                    for (var i = 0; i < changeDivs.length; i++) {
                        // changeDivs[i].style.display="block";

                        changeDivs[i].style.visibility = "visible";
                    };


                }
            }





        //提交的点击事件
        function doclick() {
            api.openWin({
                name: 'Test_Task',
                url: '../html/Test_Task.html',
                pageParam: {
                    "name": document.getElementById('task_name').value
                }
            });
        }
    </script>
</head>

<body style="background-color:#fff">
    <header class="aui-bar aui-bar-nav" style="background-color:#00b2b4">
        <div class="aui-pull-left aui-btn">
            <span class="aui-iconfont aui-icon-left" onclick="closewind()"></span>
        </div>
        <div class="aui-title total-color" style="font-size:16px">新建任务</div>
        <!--
            <div>任务类型</div> -->
    </header>
    <div style="margin-top:20px">


        <div style="width:40%;line-height:60px;margin:0 10%;display:inline;">任务类型</div>

        <select style="width:50%;display:inline;" onchange="change()" id="select">
            <option value="test" value="0">测试任务</option>
            <option value="check" value="1">排查任务</option>
            </select>
        <img src="../image/down_img.png" style="width:15px;display:inline;" />
        <HR width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>

        <div>
            <div style="display:inline;margin:0 10%;line-height:60px">项目名称</div>
            <select style="width:50%;display:inline" id="get_task_name">
          <option value="2017年8月计划1012">2017年8月计划1012</option>
          <option value="2018年9月计划1809">2018年9月计划1809</option>
            </select>
            <img src="../image/down_img.png" style="width:15px;display:inline;" />
        </div>
        <HR width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>
        <div style="display:inline;line-height:60px">
            <div style="display:inline;margin:0 10%;width:20%">任务名称</div>
            <input id="task_name" style="display:inline;width:50%;line-height:30px" placeholder="请输入任务名称" />
        </div>
        <HR width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>
        <div>
            <div style="display:inline;width:20%;margin:0 10%;line-height:60px">任务性质</div>
            <select style="display:inline;width:50%;line-height:30px;">
            <option value="计划内">计划内</option>
            <option value="">业主通知</option>
            <option value="">主机警告</option>
          </select>
            <img src="../image/down_img.png" style="width:15px;display:inline;" />
        </div>
        <HR width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>
        <div>
            <div style="display:inline;width:10%;margin:0 10%;line-height:60px">参与人员</div>
            <select style="display:inline;width:50%;">
              < <<option type="checkbox" name='chack' value="null"style="color:#d3d3d3">非必填项</option>>
            <<option type="checkbox" name='chack' value="张大锤">张大锤</option>>
            <<option type="checkbox" name='chack' value="李狗蛋">王康</option>>
            <<option type="checkbox" name='chack'  value="啊哈">李莉</option>>>
          </select>
            <img src="../image/down_img.png" style="width:15px;display:inline;" />
        </div>
        <HR width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>


        <div class="hhide">
            <div style="display:inline;width:10%;margin:0 10%;line-height:60px">测试属性</div>
            <select style="display:inline;width:50%">
              <<option value="1">属性一</option>>
              <<option value="2">属性二</option>>
              <<option value="3">属性san</option>>
            </select>
            <img src="../image/down_img.png" style="width:15px;display:inline;" />
        </div>
        <HR class="hhide" width="90%" style="margin:0 auto" color=#d3d3d3 SIZE=3>


        <p class=" define-color" style="margin:80px 40px 20px 40px;border-radius:0.2rem;;text-align:center;height:1.5rem;color:#000;padding: 0.3rem 0rem;color:white;font-size:16px" onclick="doclick()">执行</p>


    </div>
</body>

</html>
<script type="text/javascript">
    // var project_info1 = api.page.info;

    var name = "我的项目名";
    var type = "test";
    var teskname = "2017年9月计划1809";
    var xingzhi = "计划外";

    var select = document.getElementById('select');
    if (type == "check") {
        select[1].selected = true;
        var va = select.options[1].value;

    } else {
        select[0].selected = true;
        var va = select.options[0].value;

    }
//根据上个页面传的数据进行修改
document.getElementById('task_name').value=name;

$("#get_task_name").append('<option value="2010">2010年9月计划1809</option>');
$("#get_task_name").append('<option value="2010">2012</option>');
// document.getElementById('get_task_name').append('<<option value="1">属性一</option>>');

change();

function closewind(){
  api.closeWin({
  });
}

</script>
